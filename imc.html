<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de IMC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d0d0d;
        }
        .container {
            max-width: 420px;
        }
        .input-glow:focus {
            box-shadow: 0 0 8px #00ffcc;
            border-color: #00ffcc;
        }
        .button-glow:hover {
            box-shadow: 0 0 15px #00ffcc, 0 0 20px #00ffcc;
        }
    </style>
</head>
<body class="bg-gray-950 flex items-center justify-center min-h-screen text-gray-200">
    <div class="container mx-auto p-8 bg-gray-900 rounded-2xl shadow-lg border border-gray-700">
        <h1 class="text-3xl font-bold text-center mb-6 text-white">Calculadora de IMC</h1>
        <p class="text-center text-gray-400 mb-8">
            Insira seu peso e altura para calcular seu Índice de Massa Corporal e mais.
        </p>

        <div class="space-y-6">
            <div>
                <label for="weight" class="block text-sm font-medium text-gray-300">Peso (kg)</label>
                <input type="number" id="weight" placeholder="Ex: 70,5" class="mt-1 block w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:outline-none input-glow transition duration-150 ease-in-out text-white">
            </div>
            <div>
                <label for="height" class="block text-sm font-medium text-gray-300">Altura (m)</label>
                <input type="number" id="height" placeholder="Ex: 1,75" step="0.01" class="mt-1 block w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md focus:outline-none input-glow transition duration-150 ease-in-out text-white">
            </div>
        </div>

        <button id="calculateBtn" class="button-glow w-full mt-8 py-3 px-4 rounded-md font-semibold text-gray-900 bg-cyan-400 hover:bg-cyan-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 focus:ring-offset-gray-900 transition duration-150 ease-in-out shadow-md">
            Calcular
        </button>
        
        <div id="resultBox" class="mt-8 p-6 bg-gray-800 rounded-lg border border-gray-700 hidden transition-all duration-300 ease-in-out space-y-4">
            <div>
                <h2 class="text-lg font-bold text-gray-200 mb-2">Seu IMC é: <span id="bmiValue" class="text-white"></span></h2>
                <p id="bmiCategory" class="text-gray-400"></p>
            </div>
            <div>
                <p class="text-gray-400">Peso ideal para sua altura:</p>
                <p id="idealWeight" class="text-gray-200"><span class="font-bold text-white"></span></p>
            </div>
            <div>
                <p class="text-gray-400">Consumo de água recomendado:</p>
                <p id="waterIntake" class="text-gray-200"><span class="font-bold text-white"></span></p>
            </div>
            <div id="weightLossInfo" class="hidden">
                <p class="text-gray-400">Tempo estimado para alcançar o peso ideal (perda de 0,5 a 1 kg por semana):</p>
                <p id="weightLossTime" class="text-gray-200"><span class="font-bold text-white"></span></p>
            </div>
        </div>

        <div id="messageBox" class="mt-4 p-4 rounded-md hidden text-center"></div>
    </div>

    <script>
        document.getElementById('calculateBtn').addEventListener('click', function() {
            const weightInput = document.getElementById('weight');
            const heightInput = document.getElementById('height');
            const resultBox = document.getElementById('resultBox');
            const bmiValue = document.getElementById('bmiValue');
            const bmiCategory = document.getElementById('bmiCategory');
            const idealWeight = document.getElementById('idealWeight');
            const waterIntake = document.getElementById('waterIntake');
            const weightLossInfo = document.getElementById('weightLossInfo');
            const weightLossTime = document.getElementById('weightLossTime');
            const messageBox = document.getElementById('messageBox');

            // Resetting UI elements
            resultBox.classList.add('hidden');
            messageBox.classList.add('hidden');
            weightLossInfo.classList.add('hidden');
            messageBox.classList.remove('bg-red-800', 'text-red-300');

            // Replace comma with period for correct float parsing
            const weight = parseFloat(weightInput.value.replace(',', '.'));
            const height = parseFloat(heightInput.value.replace(',', '.'));

            if (isNaN(weight) || isNaN(height) || weight <= 0 || height <= 0) {
                messageBox.textContent = 'Por favor, insira valores válidos para peso e altura.';
                messageBox.classList.remove('hidden');
                messageBox.classList.add('bg-red-800', 'text-red-300');
                return;
            }

            // Calculate BMI
            const bmi = weight / (height * height);
            const bmiText = bmi.toFixed(2);
            let categoryText = '';

            if (bmi < 18.5) {
                categoryText = 'Abaixo do peso';
            } else if (bmi >= 18.5 && bmi < 24.9) {
                categoryText = 'Peso ideal (normal)';
            } else if (bmi >= 25 && bmi < 29.9) {
                categoryText = 'Levemente acima do peso';
            } else if (bmi >= 30 && bmi < 34.9) {
                categoryText = 'Obesidade grau I';
            } else if (bmi >= 35 && bmi < 39.9) {
                categoryText = 'Obesidade grau II (severa)';
            } else {
                categoryText = 'Obesidade grau III (mórbida)';
            }

            // Calculate ideal weight range and water intake
            const minIdealWeight = (18.5 * height * height).toFixed(2);
            const maxIdealWeight = (24.9 * height * height).toFixed(2);
            const water = (weight * 0.035).toFixed(2);

            // Calculate weight loss time if overweight
            if (bmi >= 25) {
                const weightToLose = weight - maxIdealWeight;
                const minWeeks = Math.ceil(weightToLose / 1.0); // 1kg por semana
                const maxWeeks = Math.ceil(weightToLose / 0.5); // 0.5kg por semana
                const minMonths = Math.ceil(minWeeks / 4.345);
                const maxMonths = Math.ceil(maxWeeks / 4.345);
                weightLossTime.textContent = `Aproximadamente ${minMonths} a ${maxMonths} meses`;
                weightLossInfo.classList.remove('hidden');
            }

            // Update UI
            bmiValue.textContent = bmiText;
            bmiCategory.textContent = `Categoria: ${categoryText}`;
            idealWeight.innerHTML = `${minIdealWeight} kg - ${maxIdealWeight} kg`;
            waterIntake.innerHTML = `${water} litros`;
            
            resultBox.classList.remove('hidden');
        });
    </script>
</body>
</html>
